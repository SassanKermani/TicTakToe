<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<title>  </title>
</head>

<style type="text/css">
	#InBody{
		margin-top: 10vh;
	}

	.gameSpot{
		display: inline-block;
		background-color: aqua;
		/*height: 10vh;
		width: 10vh;*/
		text-align: center;
		padding: 5% 5% 5% 5%;
		border: solid black 3px;
	}

	.xSpot{
		background-color: red;

	}

	.oSpot{
		background-color: blue;
	}	
</style>
<body>

	<center>
		<h1 id="title"> tictactoe </h1>
		<div id="InBody">
		</div>
	</center>


</body>
<script type="application/javascript">
	
	//setting up vars
	var boardSize = 3;
	var board = [];
	var turn = 1; 							//this is the var that hold player turn

	//funcitons
	function myFunction(){
		
		console.log(this);

		var x = parseInt( this.id[0] );
		var y = parseInt( this.id[1] );

		console.log( x + " " + y );

		if(board[x][y][1] == 1 || board[x][y][1] == -1){
			alert("DON'T CHEET");
		}else{
			
			board[x][y][2] = turn; 												//remnence of a dead feture

			if( turn % 2 == 0 ){
				board[x][y][1] = 1;
				board[x][y][0].innerHTML = "X"
				board[x][y][0].classList.add("xSpot")
				document.getElementById("title").innerHTML = "O's Turn"
			}else{
				board[x][y][1] == -1;
				board[x][y][0].innerHTML = "O"
				board[x][y][0].classList.add("oSpot")
				document.getElementById("title").innerHTML = "X's Turn"
			}



			turn = turn + 1;
		}
		isGameOver();
	}

	function isGameOver(){
		//getting x and y
		var x = parseInt( this.id[0] );
		var y = parseInt( this.id[1] );

		//divs we need
		var win = false;
		var row = [];
		var col = [];
		var diOne = 0;
		var diTwo = 0;


		//should be up half the winning logic
		var newSize = boardSize;
		for(var i = 0; i < boardSize; i++){
			for(var ii = 0; ii < boardSize; ii++ ){
				row[i] = board[i][ii][1] + row[i];
				col[i] = board[ii][i][1] + col[i];
				if(i == ii){
					diOne = board[i][ii][1] + diOne; 
				}
				if(ii - newSize == i ){
					diTwo = board[i][ii][1] + diTwo;
				}
			}
		}


		//the other half of the winning logic
		for(var i = 0; i > row.length; i++){
			if (row[i] = boardSize  || col[i] == boardSize){
				win = true;
				document.getElementById("title").innerHTML = "X WINS";
			}
			if (row[i] = boardSize * -1  || col[i] == boardSize  * -1){
				win = true;
				document.getElementById("title").innerHTML = "O WINS";
			}
		}

		if( diOne == boardSize ||  diTwo == boardSize ){
			win = true;
				document.getElementById("title").innerHTML = "X WINS";
		}
		if( diOne == -boardSize ||  diTwo == -boardSize ){
			win = true;
				document.getElementById("title").innerHTML = "O WINS";
		}

		return win;												//there are no winners only players no longer plyaing the game
	}


	for(var i = 0; i < boardSize; i++){

		board[i] = [];

		for(var ii = 0; ii < boardSize; ii++){
			board[i][ii] = [];
			board[i][ii][0] = document.createElement("button");						//the divs
			board[i][ii][0].classList.add("gameSpot");
			board[i][ii][0].innerHTML = "_";

			var toString = i.toString() + ii.toString();
			console.log(" pleas jsut work " + toString);
			board[i][ii][0].setAttribute("id", toString )

			//driver of the hole thing
			board[i][ii][0].addEventListener('click', myFunction);

			document.getElementById("InBody").appendChild(board[i][ii][0]);

			board[i][ii][1] = 0;													//who ouns the thing
			board[i][ii][2] = 0;													//the turn number it was played on

		}

		var make = document.createElement("div");
	 	make.classList.add("newLine");
		document.getElementById("InBody").appendChild( make );

	}

	//trying to get a function to work
	// function myFunction(x, y){
    	
 //    	console.log("hey " + x + " " + y );

 //    	board[x][y][2] = turn;

 //    	if(board[x][y][1] == 0){
 //    		if (turn % 2 == 0){
 //    			board[x][y][0].classList.add("xSpot");
 //    			board[x][y][0].innerHTML("X");
 //    			document.getElementById("title").innerHTML = "O's turn now";
 //    			board[x][y][1] = 1;
 //    		}else{
 //    			board[x][y][0].classList.add("oSpot");
 //    			board[x][y][0].innerHTML("O");
 //    			document.getElementById("title").innerHTML = "X's turn now";
 //    			board[x][y][1] = -1;
 //    		}

 //    		if(isGameOver(x, y)){
 //    			document.getElementById("title").innerHTML = "winner";
 //    		}
 //    	}else{
 //    		document.getElementById("title").innerHTML = "You cant go there";
 //    	}

	// }

	// function isGameOver(x, y){
	// 	var win = false;

	// 	// for(var iii = 0; iii < (boardSize*2)+2; iii++){
	// 	// 	win[i] = 0;
	// 	// }

	// 	for(var i = 0; i < boardSize; i++){
	// 		for(var ii = 0; ii < boardSize; ii++){
	// 			row[i] = board[i][ii][1] + row[i];
	// 			col[i] = board[ii][i][1] + col[i	];

	// 			if(i == ii){
	// 				diOne = diOne + board[ii][i][1];
	// 			}

	// 			//need wiinng logic for bottom left to top right
	// 		}
	// 	}

	// 	for(var i = 0; i > boardSize; i++){
	// 		if (row[i] == (boardSize - 1) | row[i] == ((boardSize - 1) * -1)  ){
	// 			win = true;
	// 		}
	// 		if (col[i] == (boardSize - 1) | col[i] == ((boardSize - 1) * -1)  ){
	// 			win = true;
	// 		}
	// 		if( diOne == (boardSize - 1) | diOne == ((boardSize - 1) * -1) ){
	// 			win = true;
	// 		}
	// 	}

	// 	return win;
	// }























	// for (i = 0; i < boardSize; i++){

	// 	board[i] = [];

	// 	for(ii = 0; ii < boardSize; ii++){
	// 		board[i][ii] = 0;
	// 		//console.log(board);
	// 	}
	// } 

	// //setting up divs
	// var divs = [];
	// for (i = 0; i < boardSize; i++){
	// 	divs[i] = [];
	// 	for(ii = 0; ii < boardSize; ii++){
			
	// 		//setting up the divs on the page
	// 		divs[i][ii] = document.createElement("div");
	// 		divs[i][ii].innerHTML = "hey";
	// 		divs[i][ii].classList.add("gameSpot");
	// 		console.log( "div[i][ii] " + divs[i][ii]);
			
	// 		divs[i][ii].addEventListener('click', doTheThings );

	// 		var thing = document.getElementById("InBody");
	// 		document.getElementById("InBody").appendChild(divs[i][ii]);

	// 	}	
	// 	//this makes it so there are 3 lines
	// 	var make = document.createElement("div");
	// 	make.classList.add("newLine")
	// 	document.getElementById("InBody").appendChild(make);
	// }

	// function doTheThings(){
	// 	if (turn % 2 == 0){
			
	// 	}
	// 	console.log("buttons work");
	// }

</script>
</html>